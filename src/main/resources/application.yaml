server:
  port: 8090

spring:
  application:
    name: api-gateway

  cloud:
    gateway:
      routes:
        # public endpoints
        - id: public-endpoints
          uri: http://localhost:8081
          predicates:
            - Path=api/public/**
          filter:
            - StripPrefix=2

        # protected endpoints
        - id: user-service
          uri: http://localhost:8081
          predicates:
            - Path=/api/user/**
          filters:
            - AuthenticationFilter
            - LoggingFilter

jwt:
  # JWKS endpoint from authorization server
  jwks-uri: http://localhost:9000/oauth2/jwks

  # Issuer URL from your authorization server
  issuer: http://localhost:9000

logging:
  level:
    com.example.gateway: DEBUG
    org.springframework.cloud.gateway: DEBUG  # ‚Üê Set to TRACE temporarily
    org.springframework.web.server: DEBUG
